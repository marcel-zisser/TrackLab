<div class="flex flex-col gap-4">
  <p-floatlabel variant="on">
    <p-select
      class="w-full"
      [inputId]="'year'"
      [options]="years"
      [ngModel]="year()"
      (ngModelChange)="year.set($event)"
      [filter]="true">
    </p-select>
    <label [for]="'year'">Year</label>
  </p-floatlabel>

  <p-floatlabel variant="on">
    <p-select
      class="w-full"
      [inputId]="'event'"
      [options]="events()"
      [filter]="true"
      [disabled]="!year()"
      [loading]="year() && !events().length"
      [ngModel]="event()"
      (ngModelChange)="event.set($event)">
    </p-select>
    <label [for]="'event'">Event</label>
  </p-floatlabel>

  @if (withSessionSelection()) {
    <p-floatlabel variant="on">
      <p-select
        class="w-full"
        [inputId]="'session'"
        [options]="sessions()"
        [filter]="true"
        [disabled]="!event()"
        [loading]="event() && !sessions().length"
        [ngModel]="session()"
        (ngModelChange)="session.set($event)">
      </p-select>
      <label [for]="'session'">Session</label>
    </p-floatlabel>
  }

  @if (year() && event() && (session() || !withSessionSelection())) {
    <div class="w-full flex justify-end">
      <p-button
        label="Copy link to chart"
        (onClick)="copyChartLink()"
      ></p-button>
    </div>
  }
</div>
